"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.normalizePath = normalizePath;
const node_path_1 = require("node:path");
/**
 * Normalizes a given path by ensuring it ends with the appropriate path separator.
 *
 * @param path - The path to be normalized.
 * @returns The normalized path.
 * @throws Error if the path is empty.
 */
function normalizePath(path) {
    if (path === '') {
        throw new Error('Path cannot be empty');
    }
    const resolvedPath = ((0, node_path_1.normalize)((0, node_path_1.resolve)(path)));
    if (process.platform === 'win32') {
        if (resolvedPath.endsWith('\\')) {
            return resolvedPath;
        }
        return `${resolvedPath}\\`;
    }
    if (resolvedPath.endsWith('/')) {
        return resolvedPath;
    }
    return `${resolvedPath}/`;
}
